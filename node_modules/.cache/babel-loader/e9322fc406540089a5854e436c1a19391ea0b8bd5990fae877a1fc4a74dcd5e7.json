{"ast":null,"code":"import _slicedToArray from\"/home/brianmock/Code/spectrum-deco/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import cmykRgb from'cmyk-rgb';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var min=1;var max=100;function calculateLogScore(score){var logScore=(score-min)/(max-min)*(Math.log10(max)-Math.log10(min))+Math.log10(min);return Math.pow(10,logScore);}export default function Score(_ref){var myColor=_ref.myColor,todaysColor=_ref.todaysColor,setStep=_ref.setStep;var date=new Date().toLocaleDateString();var storedColor=localStorage.getItem(\"\".concat(date,\"_color\"));var storedScore=localStorage.getItem(\"\".concat(date));var _cmykRgb=cmykRgb([myColor.cyan/100,myColor.magenta/100,myColor.yellow/100,myColor.black/100]),_cmykRgb2=_slicedToArray(_cmykRgb,3),myR=_cmykRgb2[0],myG=_cmykRgb2[1],myB=_cmykRgb2[2];var _cmykRgb3=cmykRgb([todaysColor.cyan/100,todaysColor.magenta/100,todaysColor.yellow/100,todaysColor.black/100]),_cmykRgb4=_slicedToArray(_cmykRgb3,3),r=_cmykRgb4[0],g=_cmykRgb4[1],b=_cmykRgb4[2];var diff=Math.abs(myR-r)+Math.abs(myG-g)+Math.abs(myB-b);var score=Math.round((1-diff/765)*100);if(!storedColor){localStorage.setItem(new Date().toLocaleDateString(),score);localStorage.setItem(\"\".concat(new Date().toLocaleDateString(),\"_color\"),\"rgba(\".concat(myR,\",\").concat(myG,\",\").concat(myB,\",1)\"));}var gradient=storedColor?\"linear-gradient(to right, \".concat(storedColor,\" 50%, rgba(\").concat(r,\", \").concat(g,\", \").concat(b,\", 1) 50%)\"):\"linear-gradient(to right, rgba(\".concat(myR,\",\").concat(myG,\",\").concat(myB,\",1) 50%, rgba(\").concat(r,\", \").concat(g,\", \").concat(b,\", 1) 50%)\");return/*#__PURE__*/_jsxs(\"div\",{style:{background:gradient,height:'100vh',width:'100vw',display:'flex',alignContent:'center',justifyContent:'center',flexDirection:'column',textAlign:'center',textShadow:'-1px 1px 0 #000, 1px 1px 0 #000, 1px -1px 0 #000, -1px -1px 0 #000',fontSize:'4rem',color:'#fff'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Score: \",storedScore||score]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setStep(4);},style:{background:'transparent',textShadow:'-1px 1px 0 #000, 1px 1px 0 #000, 1px -1px 0 #000, -1px -1px 0 #000',fontSize:'2rem',color:'#fff',cursor:'pointer',margin:'4rem auto'},children:\"Previous scores\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){localStorage.removeItem(new Date().toLocaleDateString());localStorage.removeItem(\"\".concat(new Date().toLocaleDateString(),\"_color\"));setStep(0);},style:{background:'transparent',textShadow:'-1px 1px 0 #000, 1px 1px 0 #000, 1px -1px 0 #000, -1px -1px 0 #000',fontSize:'2rem',color:'#fff',cursor:'pointer',margin:'0 auto'},children:\"reset\"})]});}","map":{"version":3,"names":["cmykRgb","min","max","calculateLogScore","score","logScore","Math","log10","pow","Score","myColor","todaysColor","setStep","date","Date","toLocaleDateString","storedColor","localStorage","getItem","storedScore","cyan","magenta","yellow","black","myR","myG","myB","r","g","b","diff","abs","round","setItem","gradient","background","height","width","display","alignContent","justifyContent","flexDirection","textAlign","textShadow","fontSize","color","cursor","margin","removeItem"],"sources":["/home/brianmock/Code/spectrum-deco/src/components/Score.js"],"sourcesContent":["import cmykRgb from 'cmyk-rgb';\n\nconst min = 1;\nconst max = 100;\n\nfunction calculateLogScore(score) {\n  const logScore = (score - min) / (max - min) * (Math.log10(max) - Math.log10(min)) + Math.log10(min);\n\n  return Math.pow(10, logScore);\n}\n\nexport default function Score({ myColor, todaysColor, setStep\n}) {\n  const date = new Date().toLocaleDateString();\n  const storedColor = localStorage.getItem(`${date}_color`);\n  const storedScore = localStorage.getItem(`${date}`);\n  const [myR, myG, myB] = cmykRgb([myColor.cyan / 100, myColor.magenta / 100, myColor.yellow / 100, myColor.black / 100]);\n\n  const [r, g, b] = cmykRgb([todaysColor.cyan / 100, todaysColor.magenta / 100, todaysColor.yellow / 100, todaysColor.black / 100]);\n\n  const diff = Math.abs(myR - r) + Math.abs(myG - g) + Math.abs(myB - b);\n\n  const score = Math.round((1 - (diff / 765)) * 100);\n\n  if (!storedColor) {\n    localStorage.setItem(new Date().toLocaleDateString(), score);\n    localStorage.setItem(`${new Date().toLocaleDateString()}_color`, `rgba(${myR},${myG},${myB},1)`);\n  }\n\n  const gradient = storedColor ? `linear-gradient(to right, ${storedColor} 50%, rgba(${r}, ${g}, ${b}, 1) 50%)` : `linear-gradient(to right, rgba(${myR},${myG},${myB},1) 50%, rgba(${r}, ${g}, ${b}, 1) 50%)`;\n\n  return (\n    <div\n      style={{\n        background: gradient,\n        height: '100vh',\n        width: '100vw',\n        display: 'flex',\n        alignContent: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n        textAlign: 'center',\n        textShadow: '-1px 1px 0 #000, 1px 1px 0 #000, 1px -1px 0 #000, -1px -1px 0 #000',\n        fontSize: '4rem',\n        color: '#fff',\n      }}>\n      <div>Score: {storedScore || score}</div>\n      <button\n        onClick={() => setStep(4)}\n        style={{\n          background: 'transparent',\n          textShadow: '-1px 1px 0 #000, 1px 1px 0 #000, 1px -1px 0 #000, -1px -1px 0 #000',\n          fontSize: '2rem',\n          color: '#fff',\n          cursor: 'pointer',\n          margin: '4rem auto',\n        }}\n      >\n        Previous scores\n      </button>\n      <button\n        onClick={() => {\n          localStorage.removeItem(new Date().toLocaleDateString());\n          localStorage.removeItem(`${new Date().toLocaleDateString()}_color`);\n          setStep(0);\n        }}\n        style={{\n          background: 'transparent',\n          textShadow: '-1px 1px 0 #000, 1px 1px 0 #000, 1px -1px 0 #000, -1px -1px 0 #000',\n          fontSize: '2rem',\n          color: '#fff',\n          cursor: 'pointer',\n          margin: '0 auto',\n        }}\n      >\n        reset\n      </button>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}